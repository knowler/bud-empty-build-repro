'use strict'
Object.defineProperty(exports, '__esModule', {value: true})
exports.Env = void 0
const tslib_1 = require('tslib')
const bud_framework_1 = require('@roots/bud-framework')
const autobind_decorator_1 = require('autobind-decorator')
const dotenv_1 = tslib_1.__importDefault(require('dotenv'))
const dotenv_expand_1 = tslib_1.__importDefault(
  require('dotenv-expand'),
)
class Env extends bud_framework_1.Service {
  constructor() {
    super(...arguments)
    this.name = 'service/env'
  }
  get envPath() {
    return this.app.path('project', '.env')
  }
  getParsedEnv() {
    return dotenv_expand_1.default(
      dotenv_1.default.config({path: this.envPath}),
    ).parsed
  }
  bootstrap() {
    this.setStore(this.getParsedEnv())
  }
}
tslib_1.__decorate(
  [autobind_decorator_1.boundMethod],
  Env.prototype,
  'getParsedEnv',
  null,
)
tslib_1.__decorate(
  [autobind_decorator_1.boundMethod],
  Env.prototype,
  'bootstrap',
  null,
)
exports.Env = Env
//# sourceMappingURL=index.js.map
