import {__decorate} from 'tslib'
import {Service} from '@roots/bud-framework'
import {boundMethod as bind} from 'autobind-decorator'
import * as api from './methods'
export class Api extends Service {
  constructor() {
    super(...arguments)
    this.name = '@roots/bud-api'
    this.repository = api
  }
  bootstrap(app) {
    Object.assign(
      app,
      this.getEntries().reduce(this.bindMethod, {}),
    )
  }
  bindMethod(acc, [name, fn]) {
    return Object.assign(Object.assign({}, acc), {
      [name]: fn.bind(this.app),
    })
  }
}
__decorate([bind], Api.prototype, 'bootstrap', null)
__decorate([bind], Api.prototype, 'bindMethod', null)
//# sourceMappingURL=Api.js.map
