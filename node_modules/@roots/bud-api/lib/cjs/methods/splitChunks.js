'use strict'
Object.defineProperty(exports, '__esModule', {value: true})
exports.splitChunks = void 0
const DEFAULT_OPTIONS = {
  cacheGroups: {
    chunks: 'all',
    vendors: {
      chunks: 'all',
      enforce: true,
      test: /[\\/]node_modules[\\/]/,
      reuseExistingChunk: true,
      priority: -10,
      name: function (module, _chunks, cacheGroupKey) {
        const moduleFileNameParts = module
          .identifier()
          .split('/')
          .reduceRight(item => item)
          .split('.')
        const file = moduleFileNameParts
          .slice(0, moduleFileNameParts.length - 1)
          .join('.')
        return `${cacheGroupKey}/${file}`
      },
    },
  },
}
/**
 * @function splitChunks
 * @hook build/optimization/splitChunks
 */
const splitChunks = function (options) {
  options = options ? options : DEFAULT_OPTIONS
  this.hooks.on('build/optimization/splitChunks', () => options)
  return this
}
exports.splitChunks = splitChunks
//# sourceMappingURL=splitChunks.js.map
